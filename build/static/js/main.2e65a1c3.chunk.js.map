{"version":3,"sources":["redux/actions.js","redux/auth/authOperation.js","redux/auth/authActions.js","components/PrivateRoute/PrivateRoute.js","components/PublicRoute/PublicRoute.js","components/AvatarAndName/AvatarAndName.js","components/LogAndRegister/LogAndRegister.js","components/Header/Navigation.js","components/Header/Header.js","components/App.js","redux/auth/authReducers.js","redux/reducers.js","redux/store.js","index.js"],"names":["getFormValueFetch","createAction","getFormValueSuccess","getFormValueError","getFormValue","deleteContact","getFilterValue","setFilteredArr","setLocalData","setNotify","removeFilteredArr","getDBFetch","getDBSuccess","getDBError","axios","defaults","baseURL","token","headers","common","Authorization","postUserInfo","param","dispatch","getstaate","a","postUserInfoFetch","post","registerUser","data","postUserInfoSuccess","console","log","postUserInfoError","loginUser","loginUserFetch","loginUserSuccess","localStorage","setItem","loginUserError","logOut","getstate","logoutUserFetch","logoutUserSuccess","logoutUserError","getCurrentUser","persistedToken","auth","get","response","getCurrentUserSuccess","connect","state","isAuthenticated","Component","component","routeProps","render","props","to","restricted","AvatarAndName","useDispatch","name","useSelector","user","className","onClick","LogAndRegister","Navigation","Header","Home","lazy","Contacts","Login","Register","useEffect","fallback","path","initialState","email","authReducer","createReducer","payload","phonebookReducer","contacts","items","filter","isLoading","contact","id","filteredItems","el","toLowerCase","includes","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","phonebook","persistor","persistStore","ReactDOM","loading","document","getElementById"],"mappings":"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","file":"static/js/main.2e65a1c3.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\n\nexport const getFormValueFetch = createAction('phonebook/GET_FORM_VALUE_Fetch');\nexport const getFormValueSuccess = createAction(\n  'phonebook/GET_FORM_VALUE_Success',\n);\nexport const getFormValueError = createAction('phonebook/GET_FORM_VALUE_Error');\n\nexport const getFormValue = createAction('phonebook/GET_FORM_VALUE');\n\nexport const deleteContact = createAction('phonebook/DELETE_CONTACT');\nexport const getFilterValue = createAction('phonebook/GET_FILTER_VALUE');\nexport const setFilteredArr = createAction('phonebook/SET_FILTERED_ARR');\nexport const setLocalData = createAction('phonebook/SET_LOCAL_DATA');\nexport const setNotify = createAction('phonebook/SET_NOTIFY');\nexport const removeFilteredArr = createAction('phonebook/REMOVE_FILTERED_ARR');\n\nexport const getDBFetch = createAction('phonebook/GET_DB_Fetch');\nexport const getDBSuccess = createAction('phonebook/GET_DB_Success');\nexport const getDBError = createAction('phonebook/GET_DB_Error');\n","import axios from 'axios';\nimport { getDBSuccess } from '../actions';\nimport {\n  postUserInfoFetch,\n  postUserInfoSuccess,\n  postUserInfoError,\n  loginUserSuccess,\n  loginUserFetch,\n  loginUserError,\n  logoutUserFetch,\n  logoutUserSuccess,\n  logoutUserError,\n  getCurrentUserSuccess,\n} from './authActions';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\n// зарегистрировать одного пользователя\n\nexport const postUserInfo = param => async (dispatch, getstaate) => {\n  dispatch(postUserInfoFetch());\n\n  try {\n    const registerUser = await axios.post('/users/signup', param);\n\n    token.set(registerUser.data);\n    dispatch(postUserInfoSuccess(registerUser.data));\n  } catch (e) {\n    console.log(e);\n\n    dispatch(postUserInfoError(e));\n  }\n};\n\n// Залогинитьь\nexport const loginUser = param => async (dispatch, getstaate) => {\n  dispatch(loginUserFetch());\n\n  try {\n    const loginUser = await axios.post('/users/login', param);\n\n    token.set(loginUser.data.token);\n    dispatch(loginUserSuccess(loginUser.data));\n\n    localStorage.setItem('tokenLocal', loginUser.data.token);\n  } catch (e) {\n    console.log(e);\n\n    dispatch(loginUserError(e));\n  }\n};\n\n// Разлогинить\n\nexport const logOut = param => async (dispatch, getstate) => {\n  dispatch(logoutUserFetch());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(logoutUserSuccess());\n    localStorage.setItem('tokenLocal', '');\n  } catch (error) {\n    dispatch(logoutUserError(error));\n  }\n};\n\n// Получить инфу о текущем пользователе\n\nexport const getCurrentUser = param => async (dispatch, getstate) => {\n  const {\n    auth: { token: persistedToken },\n  } = getstate();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n\n  try {\n    const response = await axios.get('/users/current');\n\n    dispatch(getCurrentUserSuccess(response.data));\n    const data = await axios.get(`/contacts`);\n    dispatch(getDBSuccess(data.data));\n  } catch (error) {}\n};\n\n// export const getCurrentUser = param => async (dispatch, getstate) => {\n//   const tokenLocal = localStorage.getItem('tokenLocal');\n//\n//   if (!tokenLocal) {\n//     return\n//   }\n//   token.set(tokenLocal);\n//   const user = await axios.get('/users/current')\n\n//   dispatch(getCurrentUserSuccess(user.data));\n// };\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const postUserInfoFetch = createAction('auth/REGISTER_USER_Fetch');\nexport const postUserInfoSuccess = createAction('auth/REGISTER_USER_Success');\nexport const postUserInfoError = createAction('auth/REGISTER_USER_Error');\n\nexport const loginUserFetch = createAction('auth/LOGIN_USER_Fetch');\n\nexport const loginUserSuccess = createAction('auth/LOGIN_USER_Success');\n\nexport const loginUserError = createAction('auth/LOGIN_USER_Error');\n\nexport const logoutUserFetch = createAction('auth/LOGOUT_USER_Fetch');\n\nexport const logoutUserSuccess = createAction('auth/LOGOUT_USER_Success');\n\nexport const logoutUserError = createAction('auth/LOGOUT_USER_Error');\n\nexport const getCurrentUserFetch = createAction('auth/GET_CURRENT_USER_Fetch');\n\nexport const getCurrentUserSuccess = createAction(\n  'auth/GET_CURREN_USER_Success',\n);\n\nexport const getCurrentUserError = createAction('auth/GET_CURREN_USER_Error');\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n// import { authSelectors } from '../redux/auth';\n\nconst PrivateRoute = ({\n  component: Component,\n  isAuthenticated,\n  ...routeProps\n}) => (\n  <Route\n    {...routeProps}\n    render={props =>\n      isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\n    }\n  />\n);\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.token,\n});\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst PublicRoute = ({\n  component: Component,\n  isAuthenticated,\n  restricted,\n  ...routeProps\n}) => (\n  <Route\n    {...routeProps}\n    render={props =>\n      isAuthenticated && restricted ? (\n        <Redirect to=\"/contacts\" />\n      ) : (\n        <Component {...props} />\n      )\n    }\n  />\n);\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.token,\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport '../Header/navigation.css';\nimport { logOut } from '../../redux/auth/authOperation';\n\nfunction AvatarAndName() {\n  const dispatch = useDispatch();\n  const name = useSelector(state => state.auth.user.name);\n\n  const handleClick = () => {\n    dispatch(logOut());\n  };\n  return (\n    <div className=\"avatar-container\">\n      <span>Вы вошли как {name} </span>\n      <button onClick={handleClick}>Выйти</button>\n    </div>\n  );\n}\n\nexport default AvatarAndName;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport '../Header/navigation.css';\n\nfunction LogAndRegister() {\n  return (\n    <ul className=\"nav-list log-list\">\n      <li className=\"nav-link\">\n        <NavLink to=\"/login\" className=\"nav-link-item\">\n          Войти\n        </NavLink>\n      </li>\n      <li className=\"nav-link\">\n        <NavLink to=\"/register\" className=\"nav-link-item\">\n          Зарегистрироватся\n        </NavLink>\n      </li>\n    </ul>\n  );\n}\n\nexport default LogAndRegister;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport './navigation.css';\nconst Navigation = () => {\n  const token = useSelector(state => state.auth.token);\n  return (\n    <nav>\n      <ul className=\"nav-list\">\n        <li className=\"nav-link\">\n          <NavLink to=\"/home\" className=\"nav-link-item\">\n            Главная\n          </NavLink>\n        </li>\n        {token && (\n          <li className=\"nav-link\">\n            <NavLink to=\"/contacts\" className=\"nav-link-item\">\n              Контакты\n            </NavLink>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\n// const mapStateToProps = state => ({\n//   isAuthenticated: state.auth.token,\n// });\n\nexport default Navigation;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport AvatarAndName from '../AvatarAndName/AvatarAndName';\nimport LogAndRegister from '../LogAndRegister/LogAndRegister';\nimport Navigation from './Navigation';\nimport './navigation.css';\n\nconst Header = () => {\n  const token = useSelector(state => state.auth.token);\n  return (\n    <header className=\"header\">\n      <Navigation />\n\n      {token ? <AvatarAndName /> : <LogAndRegister />}\n    </header>\n  );\n};\n\nexport default Header;\n","import React, { Suspense, useEffect, lazy } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport PrivateRoute from './PrivateRoute/PrivateRoute';\nimport PublicRoute from './PublicRoute/PublicRoute';\n// import Contacts from '../view/contacts';\n// import Home from '../view/home';\n// import Register from '../view/register';\n// import Login from '../view/login';\nimport Header from './Header/Header';\n\nimport { getCurrentUser } from '../redux/auth/authOperation';\nimport { connect } from 'react-redux';\n\nconst Home = lazy(() => import('../view/home'));\nconst Contacts = lazy(() => import('../view/contacts'));\nconst Login = lazy(() => import('../view/login'));\nconst Register = lazy(() => import('../view/register'));\n\nfunction App({ getCurrentUser, isAuthenticated }) {\n  useEffect(() => {\n    getCurrentUser();\n  }, [getCurrentUser]);\n\n  return (\n    <>\n      <Header />\n      <Suspense fallback={<h3>Загружаем...</h3>}>\n        <Switch>\n          <Route path=\"/home\" component={Home} />\n\n          <PrivateRoute path=\"/contacts\" component={Contacts} />\n\n          <PublicRoute restricted path=\"/login\" component={Login} />\n          <PublicRoute restricted path=\"/register\" component={Register} />\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\n\nexport default connect(null, { getCurrentUser })(App);\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport {\n  postUserInfoSuccess,\n  loginUserSuccess,\n  logoutUserSuccess,\n  getCurrentUserSuccess,\n} from './authActions';\n\nconst initialState = {\n  user: {\n    name: '',\n    email: '',\n  },\n\n  //   token: null,\n  // isLoading: false,\n};\n\nexport const authReducer = createReducer(initialState, {\n  [getCurrentUserSuccess]: (state, { payload }) => {\n    return {\n      ...state,\n      user: {\n        ...payload,\n      },\n    };\n  },\n\n  [postUserInfoSuccess]: (state, { payload }) => ({\n    ...state,\n    user: {\n      ...payload.user,\n    },\n    token: payload.token,\n  }),\n\n  [loginUserSuccess]: (state, { payload }) => ({\n    ...state,\n    user: {\n      ...payload.user,\n    },\n    token: payload.token,\n  }),\n\n  [logoutUserSuccess]: (state, { payload }) => ({\n    ...initialState,\n  }),\n});\n","import { createReducer } from '@reduxjs/toolkit';\n\nimport {\n  getFormValue,\n  getFormValueFetch,\n  getFormValueSuccess,\n  deleteContact,\n  getFilterValue,\n  setFilteredArr,\n  setLocalData,\n  setNotify,\n  removeFilteredArr,\n  getDBSuccess,\n} from './actions';\n\nconst initialState = {\n  contacts: {\n    items: [],\n    filter: '',\n  },\n  isLoading: false,\n};\n\nexport const phonebookReducer = createReducer(initialState, {\n  [getDBSuccess]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      items: [...state.contacts.items, ...payload],\n    },\n  }),\n\n  [getFormValue]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      items: [...payload],\n    },\n  }),\n\n  [getFormValueFetch]: (state, { payload }) => ({\n    ...state,\n    isLoading: !state.isLoading,\n  }),\n\n  [getFormValueSuccess]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      items: [...state.contacts.items, payload],\n    },\n  }),\n\n  [deleteContact]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      items: state.contacts.items.filter(contact => contact.id !== payload),\n    },\n  }),\n\n  [getFilterValue]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      filter: payload,\n    },\n  }),\n\n  [setFilteredArr]: state => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      filteredItems: state.contacts.items.filter(el =>\n        el.name.toLowerCase().includes(state.contacts.filter.toLowerCase()),\n      ),\n    },\n  }),\n\n  [setLocalData]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      items: payload,\n    },\n  }),\n\n  [setNotify]: (state, { payload }) => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      setNotify: payload,\n    },\n  }),\n\n  [removeFilteredArr]: state => ({\n    ...state,\n    contacts: {\n      ...state.contacts,\n      filteredItems: null,\n    },\n  }),\n});\n","// import { applyMiddleware, createStore } from 'redux';\n// import { phonebookReducer } from './reducers';\n// import { configureStore } from '@reduxjs/toolkit';\n// import { composeWithDevTools } from 'redux-devtools-extension';\n// import { logger } from '../middlewares/loggers';\n// import { authReducer } from './auth/authReducers';\n\n// const middlWares = [logger];\n\n// const store = configureStore({\n// reducer: {\n//     authReducer,\n//     phonebookReducer,\n//   },\n\n//   composeWithDevTools(applyMiddleware(...middlWares)),\n\n// },\n\n// );\n// export default store;\n\n// import { configureStore } from '@reduxjs/toolkit';\n\n/* \n!! ВТОРОЙ МЕТОД СОЗДАНИЯ СТОРА С КОМБАЙН РЕДЮСЕР\nimport { applyMiddleware, createStore, combineReducers } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { authReducer } from './auth/authReducers';\nimport { phonebookReducer } from './reducers';\nimport { logger } from '../middlewares/loggers'\n\nconst rootRedcer = combineReducers({\n\n  phonebook: phonebookReducer,\n  auth: authReducer ,\n\n})\n\nconst middlWares = [logger]\n\nconst store = createStore(rootRedcer, composeWithDevTools(applyMiddleware(...middlWares)));\n\n\nexport default store;\n  */\n\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\n// import thunk from \"redux-thunk\"\nimport { authReducer } from './auth/authReducers';\nimport { phonebookReducer } from './reducers';\nimport storage from 'redux-persist/lib/storage';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  // thunk,\n];\n\nconst authPersistConfig = { key: 'token', storage, whitelist: ['token'] };\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    phonebook: phonebookReducer,\n  },\n  middleware,\n});\n\nexport const persistor = persistStore(store);\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store, { persistor } from './redux/store';\nimport 'modern-normalize/modern-normalize.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}