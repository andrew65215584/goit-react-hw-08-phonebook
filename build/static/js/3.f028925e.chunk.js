(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{79:function(e,t,n){},84:function(e,t,n){e.exports={form:"form_form__1QW75",label:"form_label__2uZwQ",input:"form_input__14aI-",button:"form_button__3u1KK"}},85:function(e,t,n){},86:function(e,t,n){e.exports={title:"filter_title__3fiTV",input:"filter_input__1xkXd"}},87:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n(5),l=n(1),u=n(80),i=n(84),s=n.n(i),m=n(11),f=n(16),p=n.n(f),b=n(22),v=n(17),h=n.n(v);h.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var d=function(){var e=Object(a.useState)({name:"",number:""}),t=Object(u.a)(e,2),n=t[0],i=t[1],f=Object(c.c)(),v=Object(c.d)((function(e){return e.phonebook.contacts.items})),d=function(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},n,a))}))};return r.a.createElement("form",{className:s.a.form,onSubmit:function(e){e.preventDefault();var t=e.target;if(""!==n.name&&""!==n.number){var a,r=e.target.elements,c=!0;v.map((function(e){return e.name===r[0].value?c=!1:""})),f(c?(a={name:r[0].value,number:r[1].value},function(){var e=Object(b.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(m.h)()),e.prev=1,e.next=4,h.a.post("/contacts",a);case 4:r=e.sent,t(Object(m.i)(Object(l.a)(Object(l.a)({},a),{},{id:r.data.name}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Object(m.g)(e.t0));case 11:return e.prev=11,t(Object(m.h)()),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t,n){return e.apply(this,arguments)}}()):Object(m.m)(!0)),t.reset()}}},r.a.createElement("label",{className:s.a.label},"Name:",r.a.createElement("input",{className:s.a.input,type:"text",name:"name",onChange:d})),r.a.createElement("label",{className:s.a.label},"Phone:",r.a.createElement("input",{className:s.a.input,type:"tel",name:"number",onChange:d})),r.a.createElement("button",{className:s.a.button,type:"submit"},"Add contact"))},E=(n(85),n(93)),O=n(92);var k=Object(c.b)((function(e){return{value:e.phonebook.contacts.filteredItems?e.phonebook.contacts.filteredItems:e.phonebook.contacts.items}}),{deleteContact:m.a,removeFilteredArr:m.j,deleteContactAsync:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.delete("/contacts/".concat(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=e.value,n=e.deleteContact,a=e.removeFilteredArr,c=e.deleteContactAsync;return r.a.createElement(E.a,{component:"ul",className:"list"},t.map((function(e){return r.a.createElement(O.a,{key:e.id,timeout:250,classNames:"adddelete",unmountOnExit:!0},r.a.createElement("li",{className:"item",key:e.id},r.a.createElement("div",{className:"wrapper"},r.a.createElement("span",null,e.name),r.a.createElement("span",null,": ",e.number)),r.a.createElement("button",{className:"button",onClick:function(){return t=e.id,c(t),n(t),void a();var t}},"Delete")))})))})),j=n(86),g=n.n(j);var N={getFilterValue:m.e,setFilteredArr:m.k,removeFilteredArr:m.j},x=Object(c.b)((function(e){return{filter:e.phonebook.contacts.filter}}),N)((function(e){var t=e.filter,n=e.getFilterValue,a=e.setFilteredArr,c=e.removeFilteredArr;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:g.a.input,type:"text",name:"filter",value:t,onChange:function(e){var t=e.target.value;n(t),a(t),""===t&&c()}}))})),y=(n(87),function(){return r.a.createElement("div",{className:"notify"},"This contact is already in exist!")});n(79);var _={setLocalData:m.l,setNotify:m.m,getDataFromDB:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(m.c)()),e.prev=1,e.next=4,h.a.get("/contacts");case 4:a=e.sent,t(Object(m.d)(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0&&Object(m.b)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()}};t.default=Object(c.b)((function(e){return{value:e.phonebook.contacts.items,filter:e.phonebook.contacts.filter,notify:e.phonebook.contacts.setNotify,isLoading:e.phonebook.isLoading}}),_)((function(e){return Object(a.useEffect)((function(){e.getDataFromDB()})),r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{in:e.notify,timeout:2e3,classNames:"notify",unmountOnExit:!0,onEntered:function(){return e.setNotify(!1)}},r.a.createElement(y,null)),r.a.createElement(O.a,{in:!0,appear:!0,timeout:2e3,classNames:"op",unmountOnExit:!0},r.a.createElement("h2",{className:"title"},"Phonebook")),r.a.createElement(d,null),r.a.createElement(O.a,{in:e.value.length>=1,timeout:300,unmountOnExit:!0,classNames:"title-contacts"},r.a.createElement("h2",{className:"title-contacts"},"Contacts")),e.isLoading&&r.a.createElement("h2",null," ..... loading"),r.a.createElement(O.a,{in:e.value.length>=2,timeout:300,unmountOnExit:!0,classNames:"filter"},r.a.createElement(x,null)),r.a.createElement(k,null))}))}}]);
//# sourceMappingURL=3.f028925e.chunk.js.map